<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MultiCrop</title>
    <link href="./css/multicrop.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="workspace-container"></div>
</body>
<script src="./js/fabric.min.js"></script>
<script src="./js/multicrop.js"></script>
<script>
    var multiCrop = new MultiCrop({
        width: 400, // Canvas width
        height: 571, // Canvas height
        defaultCropAreaWidth: 100, //  Crop object's default width
        defaultCropAreaHeight: 120, // Crop object's default height
        cropAreaColor: 'red', // Crop object's color (any RGB value)
        cropAreaOpacity: 0.6, // Crop object's opacity
        imageFormat: 'bmp', // Cropped images format
        devMode: true, // Enables or disables the coordinates console
        isFrontAndBack: true, // Indicates if the workspace works with front and back images
        displayCropResults: true, // Enables or disables the crop results visualization
        cropAreaControlsVisibility: {
            bottomLeft: true,
            bottomRight: true,
            topLeft: true,
            topRight: true,
            middleBottom: true,
            middleLeft: true,
            middleRight: true,
            middleTop: true,
            rotationPoint: true
        },
        imageUploadEvent: () => { alert('Uploaded...'); }, // This event will be triggered when a file be uploaded
        initialCropAreas: [
            // { isFront: true, name: "name1", x: 290, y: 221, width: 58, height: 75 }
        ], // Applies initial crop objects in the workspace
        // You can remove default buttons by using the disableButtons property:
        // disableButtons: ['add-image', 'add-crop', 'crop-all', 'remove-crop']
    });

    //multiCrop.hideCanvas();
    // Adicionando um botÃ£o customizado no workspace:
    // multiCrop.addButton('id', 'class', 'icon name', 'text', click_function, atBeginning);
    // Ex: multiCrop.addButton('digitalizar', 'btn-multicrop', 'print', 'Digitalizar ficha', () => console.log('clicou'), false);
    multiCrop.addButton('digitalizar', 'btn-multicrop', 'print', 'Digitalizar ficha', () => {
        multiCrop.showCanvas();
        multiCrop.disableButton('add-crop');
    }, false);
    // Recuperando as imagens recortadas do workspace:
    // multiCrop.getCroppedImages();
</script>
</html>