<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MultiCrop</title>
    <link href="./css/multicrop.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="workspace-container"></div>
</body>
<script src="./js/fabric.min.js"></script>
<script src="./js/multicrop.js"></script>
<script>
    var multiCrop = new MultiCrop();
    multiCrop.loadWorkspace({
        width: 425, // Canvas width
        height: 650, // Canvas height
        defaultCropAreaWidth: 100, //  Crop object's default width
        defaultCropAreaHeight: 120, // Crop object's default height
        cropAreaColor: 'red', // Crop object's color (any RGB value)
        cropAreaOpacity: 0.6, // Crop object's opacity
        imageFormat: 'bmp', // Cropped images format
        devMode: false, // Enables or disables the coordinates console
        isFrontAndBack: true, // Indicates if the workspace works with front and back images
        displayCropResults: true, // Enables or disables the crop results visualization
        imageUploadEvent: () => { alert('Uploaded...'); }, // This event will be triggered when a file be uploaded
        initialCropAreas: [
            { isFront: true, name: "name1", x: 290, y: 221, width: 58, height: 75 },
            { isFront: false, name: "name2", x: 129.90588235294115, y: 228, width: 227.97982862285536, height: 71 },
            { isFront: true, name: "name3", x: 52.96627450980403, y: 326.99999999999966, width: 55.11551489736509, height: 62.66667175293003 },
            { isFront: true, name: "name4", x: 107.9231372549021, y: 326.99999999999966, width: 54.11629921109053, height: 62.66667175293003 },
            { isFront: true, name: "name5", x: 162.03943646599265, y: 327.99999999999966, width: 51.95921568627448, height: 62.66667175293003 },
            { isFront: true, name: "name6", x: 213.99865215226714, y: 326.99999999999966, width: 50.95999999999998, height: 62.66667175293003 },
            { isFront: true, name: "name7", x: 264.95865215226706, y: 327.99999999999966, width: 41.9670588235295, height: 62.66667175293003 },
            { isFront: true, name: "name8", x: 53.124926662070976, y: 399.99999999999966, width: 53.95764705882363, height: 62.00000000000034 },
            { isFront: true, name: "name9", x: 109.0810050934435, y: 399.99999999999966, width: 51.95921568627463, height: 62.00000000000034 },
            { isFront: true, name: "name10", x: 162.0394364659925, y: 400.99999999999966, width: 49.96078431372564, height: 62.00000000000034 },
            { isFront: true, name: "name11", x: 213.99865215226703, y: 400.99999999999966, width: 49.96078431372564, height: 62.00000000000034 },
            { isFront: true, name: "name12", x: 264.95865215226706, y: 399.99999999999966, width: 41.9670588235295, height: 62.66667175293003 }
        ], // Applies initial crop objects in the workspace
        // You can remove default buttons by using the disableButtons property:
        // disableButtons: ['add-image', 'add-crop', 'crop-all', 'remove-crop']
    }).then(() => { 
        //multiCrop.hideCanvas();
        // Adicionando um botÃ£o customizado no workspace:
        // multiCrop.addButton('id', 'class', 'icon name', 'text', click_function, atBeginning);
        // Ex: multiCrop.addButton('digitalizar', 'btn-multicrop', 'print', 'Digitalizar ficha', () => console.log('clicou'), false);
        multiCrop.addButton('digitalizar', 'btn-multicrop', 'print', 'Digitalizar ficha', () => {
            multiCrop.showCanvas();
            multiCrop.disableButton('add-crop');
        }, false);
        // Recuperando as imagens recortadas do workspace:
        // multiCrop.getCroppedImages();

        console.log('Workspace carregado...');
    });
</script>
</html>